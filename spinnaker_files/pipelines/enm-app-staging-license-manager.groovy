import java.io.File

String pipeline_name
pipelineJob('eric-enm-int-license-manager-prepare') {
    description ('prepare microservice CNOM server integration chart - autogenerated using JobDSL - all manual changes will be overwritten!')
    concurrentBuild(allowConcurrentBuild = false)
    logRotator {
        numToKeep(30)
    }
    parameters {
        stringParam('CHART_NAME')
        stringParam('CHART_REPO')
        stringParam('CHART_VERSION')
        labelParam('SLAVE') {
            defaultValue("${SLAVE}")
            description('')
        }
    }

    definition {
        cpsScm {
            scm {
                git {
                    branch('master')
                    remote {
                        credentials('lciadm100_private_key')
                        url("ssh://lciadm100@gerrit-gamma.gic.ericsson.se:29418/OSS/ENM-Parent/SQ-Gate/com.ericsson.oss.containerisation/eric-enm-int-license-manager")
                    }
                    extensions {
                         cleanBeforeCheckout()
                    }
                }
            }
            scriptPath("jenkins/prepare.jenkinsfile")
            lightweight(lightweight = true)
        }
    }
}

pipelineJob('eric-enm-int-license-manager-test') {
    description ('Test microservice CNOM server integration chart - autogenerated using JobDSL - all manual changes will be overwritten!')
    concurrentBuild(allowConcurrentBuild = false)
    logRotator {
        numToKeep(30)
    }
    parameters {
        stringParam('INT_CHART_VERSION')
        stringParam('INT_CHART_REPO')
        stringParam('NAMESPACE')
        labelParam('SLAVE') {
            defaultValue("${SLAVE}")
            description('')
        }
    }

    definition {
        cpsScm {
            scm {
                git {
                    branch('master')
                    remote {
                        credentials('lciadm100_private_key')
                        url("ssh://lciadm100@gerrit-gamma.gic.ericsson.se:29418/OSS/ENM-Parent/SQ-Gate/com.ericsson.oss.containerisation/eric-enm-int-license-manager")
                    }
                    extensions {
                         cleanBeforeCheckout()
                    }
                }
            }
            scriptPath("jenkins/test.jenkinsfile")
            lightweight(lightweight = true)
        }
    }
}


pipelineJob('eric-enm-int-license-manager-publish') {
    description ('publish microservice CNOM server integration chart - autogenerated using JobDSL - all manual changes will be overwritten!')
    concurrentBuild(allowConcurrentBuild = false)
    logRotator {
        numToKeep(30)
    }
    parameters {
        stringParam('CHART_NAME')
        stringParam('CHART_REPO')
        stringParam('CHART_VERSION')
        labelParam('SLAVE') {
            defaultValue("${SLAVE}")
            description('')
        }
    }

    definition {
        cpsScm {
            scm {
                git {
                    branch('master')
                    remote {
                        credentials('lciadm100_private_key')
                        url("ssh://lciadm100@gerrit-gamma.gic.ericsson.se:29418/OSS/ENM-Parent/SQ-Gate/com.ericsson.oss.containerisation/eric-enm-int-license-manager")
                    }
                    extensions {
                         cleanBeforeCheckout()
                    }
                }
            }
            scriptPath("jenkins/publish.jenkinsfile")
            lightweight(lightweight = true)
        }
    }
}

pipelineJob('Spinnaker_ENM_APP_STAGING_LICENSE_MANAGER_Updater') {
    description ('This job is used to update the ENM App Staging-1 of CNOM Service - autogenerated using JobDSL - all manual changes will be overwritten!')
    concurrentBuild(allowConcurrentBuild = false)
    logRotator {
        numToKeep(30)
    }
    parameters {
        stringParam('spinnaker_application_name')
        stringParam('spinnaker_pipeline_name')
        stringParam('spinnaker_fem_controller')
        labelParam('SLAVE') {
            defaultValue("${SLAVE}")
            description('')
        }
    }

    definition {
        cpsScm {
            scm {
                git {
                    branch('master')
                    remote {
                        credentials('lciadm100_private_key')
                        url("ssh://lciadm100@gerrit-gamma.gic.ericsson.se:29418/OSS/ENM-Parent/SQ-Gate/com.ericsson.oss.containerisation/eric-enm-int-license-manager")
                    }
                    extensions {
                         cleanBeforeCheckout()
                    }
                }
            }
            scriptPath("jenkins/spinnaker.jenkinsfile")
            lightweight(lightweight = true)
        }
    }
}
